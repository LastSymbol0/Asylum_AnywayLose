{"version":3,"sources":["Game/items/Utils.js","Game/items/Blackhole.js","Game/items/Enemy.js","Game/items/Food.js","Game/items/Player.js","Game/Game.tsx","App.tsx","index.tsx"],"names":["getMarginTop","elem","cs","window","getComputedStyle","parseInt","marginTop","getMarginLeft","marginLeft","getRandomInt","min","max","Math","floor","random","createBlackhole","onPlayerCollision","root","document","getElementById","Blackhole","createElement","style","position","class","width","src","process","appendChild","setInterval","left","removeChild","playerShip","runBlackhole","enemiesCount","createEnemy","onBorderCollision","enemy","id","alt","start","Date","now","timer","timePassed","clearInterval","goEnemy","createFood","food","goFood","bulletsCount","shoot","onBulletEnemyCollision","fire","enemy1","enemy2","enemy3","checkClash","screen","shipPictures","gameId","PublicKey","Game","useState","score","setScore","level","setLevel","lives","setLives","pxToMove","setPxToMove","bullet","setBullet","spawners","setSpawners","nickname","setNickname","playerAchievements","setPlayerAchievements","achievements","setAchievements","isPlayerDataFetched","setIsPlayerDataFetched","isGlobalDataFetched","setIsGlobalDataFetched","isGameEnded","setIsGameEnded","endGameActionsQueue","setEndGameActionsQueue","wallet","useAnchorWallet","useWallet","getProvider","a","connection","Connection","provider","Provider","defaultOptions","program","PlayersProgram","fetchPlayerGlobalAccountData","publicKey","account","console","log","toString","AsylumProgram","fetchAcievementsData","gameAchievements","addAchievement","achievement","indexOf","current","err","useEffect","fetchGlobalData","fetchPlayerData","onEnemyBorderCollision","onPlayerBlackholeCollision","newLives","onPlayerFoodCollision","forEach","spawner","gameObjects","getElementsByClassName","x","Promise","all","map","then","alert","location","reload","newLevel","length","paddingTop","borderBottom","minHeight","color","textAlign","i","find","item","display","label","description","onClick","shipPicture","player","cursor","createPlayer","header","inter","enemySpawner","bhSpawner","foodSpawner","startGlobalTimer","alignContent","repeat","handleKeys","handleEventType","onKeyEvent","key","e","top","documentElement","clientWidth","clientHeight","innerHTML","createBullet","wallets","getPhantomWallet","App","connected","className","justifyContent","AppWithProvider","endpoint","autoConnect","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.03466a33.chunk.js","sourcesContent":["export function getMarginTop (elem) {\r\n    if (elem) {\r\n        var cs = window.getComputedStyle(elem);\r\n        var top = parseInt(cs.marginTop);\r\n        return (top);\r\n    };\r\n    return (9999);\r\n}\r\nexport function getMarginLeft (elem) {\r\n    if (elem) {\r\n        var cs = window.getComputedStyle(elem);\r\n        var left = parseInt(cs.marginLeft);\r\n        return (left);\r\n    };\r\n    return(9999);\r\n}\r\nexport function getRandomInt(min, max) {\r\n      return (Math.floor(Math.random() * (max - min + 1)) + min);\r\n}","import {getMarginLeft, getMarginTop, getRandomInt} from './Utils'\r\n\r\nexport function runBlackhole (Blackhole, onPlayerCollision) {\r\n    setInterval(function () {\r\n\r\n        var left = getMarginLeft(Blackhole);\r\n        Blackhole.style.marginLeft = left - 3 + 'px';\r\n\r\n        if (left <= -100) {\r\n            var root = document.getElementById('root')\r\n            root.removeChild(Blackhole);\r\n        }\r\n\r\n        var playerShip = document.getElementById(\"playerShip\");\r\n\r\n        if (left <= getMarginLeft(playerShip) + 100 &&\r\n            left >= getMarginLeft(playerShip)) {\r\n            if (getMarginTop(Blackhole) >= getMarginTop(playerShip) - 30 &&\r\n                getMarginTop(Blackhole) <= getMarginTop(playerShip) + 80) {\r\n                \r\n                onPlayerCollision()\r\n\r\n                var root = document.getElementById('root')\r\n                root.removeChild(Blackhole);\r\n            };\r\n        };\r\n    }, 20)\r\n}\r\n\r\nexport const createBlackhole = (onPlayerCollision) => {\r\n    var root = document.getElementById('root')\r\n    var Blackhole = document.createElement(\"img\");\r\n    Blackhole.style.position = 'absolute';\r\n    Blackhole.style.class = 'blackhole';\r\n    Blackhole.style.width = '100px';\r\n    Blackhole.style.marginLeft = '100%';\r\n    Blackhole.style.marginTop = getRandomInt(0, 500) + 'px';\r\n    Blackhole.src=process.env.PUBLIC_URL + '/pic/blackhole.svg';\r\n    root.appendChild(Blackhole);\r\n    runBlackhole(Blackhole, onPlayerCollision);\r\n    \r\n    return Blackhole\r\n}\r\n","import { getRandomInt} from './Utils'\r\n\r\nexport var enemiesCount = '1';\r\n\r\nexport function goEnemy (enemy, onBorderCollision) {\r\n    var start = Date.now();\r\n\r\n    var cs = window.getComputedStyle(enemy);\r\n    var left = parseInt(cs.marginLeft);\r\n\r\n    var timer = setInterval(function () {\r\n        var timePassed = Date.now() - start;\r\n        enemy.style.marginLeft = left - timePassed/3 + 'px';\r\n        if (parseInt(cs.marginLeft) <= -200) {\r\n\r\n            onBorderCollision();\r\n\r\n            clearInterval(timer);\r\n            var root = document.getElementById('root')\r\n            root.removeChild(enemy);\r\n        };\r\n    }, 20)\r\n}\r\n\r\nexport function createEnemy(onBorderCollision) {\r\n    var root = document.getElementById('root')\r\n    var enemy = document.createElement(\"img\");\r\n    enemy.id =  \"enemy\" + enemiesCount;\r\n    enemy.class =  \"enemy\";\r\n    enemy.style.position = 'absolute';\r\n    enemy.style.width = '200px';\r\n    enemy.style.marginLeft = '100%';\r\n    enemy.style.marginTop = getRandomInt(0, 500) + 'px';\r\n    enemy.src=process.env.PUBLIC_URL + '/pic/enemy.png';\r\n    enemy.alt='enemy';\r\n    enemiesCount++;\r\n    root.appendChild(enemy);\r\n    goEnemy(enemy, onBorderCollision);\r\n}","import {getMarginLeft, getMarginTop, getRandomInt} from './Utils'\r\n\r\nexport function goFood (food, onPlayerCollision) {\r\n    setInterval(function () {\r\n        var left = getMarginLeft(food);\r\n        food.style.marginLeft = left - 1 + 'px';\r\n        if (left <= 0) {\r\n            var root = document.getElementById('root')\r\n            root.removeChild(food);\r\n        }\r\n\r\n        var playerShip = document.getElementById(\"playerShip\");\r\n        if (left <= getMarginLeft(playerShip) + 100 &&\r\n            left >= getMarginLeft(playerShip)) {\r\n            if (getMarginTop(food) >= getMarginTop(playerShip) + 30 &&\r\n                getMarginTop(food) <= getMarginTop(playerShip) + 170) {\r\n\r\n                onPlayerCollision()\r\n                var root = document.getElementById('root')\r\n                root.removeChild(food);\r\n            };\r\n        };\r\n    }, 20)\r\n}\r\n\r\nexport function createFood (onPlayerCollision) {\r\n    var root = document.getElementById('root')\r\n    var food = document.createElement(\"img\");\r\n    food.style.position = 'absolute';\r\n    food.style.class = 'food';\r\n    food.style.width = '100px'\r\n    food.style.marginLeft = '100%';\r\n    food.style.marginTop = getRandomInt(0, 500) + 'px';\r\n    food.src=process.env.PUBLIC_URL + '/pic/eat2.svg';\r\n    root.appendChild(food);\r\n    goFood(food, onPlayerCollision);\r\n}","import { enemiesCount } from \"./Enemy\";\r\nimport {getMarginLeft, getMarginTop } from './Utils'\r\n\r\nvar bulletsCount = '1';\r\n\r\nfunction checkClash (fire) {\r\n    var enemy1 = document.getElementById(\"enemy\" + (enemiesCount - 1));\r\n    var enemy2 = document.getElementById(\"enemy\" + (enemiesCount - 2));\r\n    var enemy3 = document.getElementById(\"enemy\" + (enemiesCount - 3));\r\n    var root = document.getElementById('root')\r\n    if ((getMarginLeft(fire) >= getMarginLeft(enemy1)) &&\r\n            (getMarginTop(fire) >= getMarginTop(enemy1) + 30 &&\r\n            getMarginTop(fire) <= getMarginTop(enemy1) + 170)) {\r\n            root.removeChild(enemy1);\r\n        return (true);\r\n    };\r\n    if ((getMarginLeft(fire) >= getMarginLeft(enemy2)) &&\r\n            (getMarginTop(fire) >= getMarginTop(enemy2) + 30 &&\r\n            getMarginTop(fire) <= getMarginTop(enemy2) + 170)) {\r\n            root.removeChild(enemy2);\r\n        return (true);\r\n    };\r\n    if ((getMarginLeft(fire) >= getMarginLeft(enemy3)) &&\r\n            (getMarginTop(fire) >= getMarginTop(enemy3) + 30 &&\r\n            getMarginTop(fire) <= getMarginTop(enemy3) + 170)) {\r\n            root.removeChild(enemy3);\r\n        return (true);\r\n    };\r\n}\r\n\r\n\r\nexport function shoot (onBulletEnemyCollision) {\r\n    var playerShip = document.getElementById(\"playerShip\");\r\n    var fire = document.getElementById(\"fire\" + (bulletsCount - 1));\r\n\r\n    var left = getMarginLeft(playerShip) + 150;\r\n\r\n    var start = Date.now();\r\n\r\n    var timer = setInterval(function () {\r\n\r\n        var timePassed = Date.now() - start;\r\n        var root = document.getElementById('root')\r\n\r\n        if (checkClash(fire)) {\r\n\r\n            onBulletEnemyCollision()\r\n\r\n            clearInterval(timer);\r\n            root.removeChild(fire);\r\n        }\r\n        // eslint-disable-next-line no-restricted-globals\r\n        if (left + timePassed / 3 >  1.5 * screen.width) {\r\n            clearInterval(timer);\r\n            root.removeChild(fire);\r\n        }\r\n        fire.style.marginLeft = left + timePassed / 3 + 'px';\r\n    }, 20)\r\n}\r\n\r\nexport function createBullet(bullet) {\r\n    var root = document.getElementById('root')\r\n    var fire = document.createElement('div');\r\n    var playerShip = document.getElementById('playerShip')\r\n    fire.id = \"fire\" + bulletsCount;\r\n    bulletsCount++;\r\n    fire.style.position = \"absolute\";\r\n    fire.style.marginLeft = getMarginLeft(playerShip) + 150 + \"px\";\r\n    fire.style.marginTop = getMarginTop(playerShip) + 90 + 'px';\r\n    fire.style.color = \"#a7ff23\";  \r\n    fire.innerHTML = bullet;\r\n\r\n    \r\n    root.appendChild(fire);\r\n}\r\n\r\n\r\n\r\nexport function createPlayer(shipPicture) {\r\n    var root = document.getElementById('root')\r\n\r\n    var player = document.createElement(\"img\");\r\n    player.id =  \"playerShip\";\r\n    player.style.width = '200px';\r\n    player.style.position = \"absolute\";\r\n    player.style.cursor = \"pointer\";\r\n    player.src=shipPicture;\r\n    player.alt='player';\r\n\r\n    root.appendChild(player);\r\n}","/* eslint-disable no-restricted-globals */\r\nimport { useEffect, useState } from 'react'\r\nimport { createBlackhole } from './items/Blackhole'\r\nimport { createEnemy } from './items/Enemy'\r\nimport { createFood } from './items/Food'\r\nimport { createPlayer, shoot, createBullet } from './items/Player'\r\nimport {getMarginTop} from './items/Utils'\r\nimport KeyboardEventHandler from 'react-keyboard-event-handler'\r\n\r\nimport { asylum, AsylumProgram, PlayersProgram } from 'asylum-sdk'\r\n\r\nimport { useAnchorWallet, useWallet } from '@solana/wallet-adapter-react'\r\nimport { Connection, PublicKey, Keypair } from '@solana/web3.js'\r\nimport { Provider, Wallet } from '@project-serum/anchor'\r\nimport { setupMintEditionIntoWalletInstructions } from '@oyster/web/src/actions'\r\n// import { createShipMasterNFT } from '../Metaplex'\r\n\r\nconst shipPictures = [process.env.PUBLIC_URL + \"/pic/unit.svg\",process.env.PUBLIC_URL + \"/pic/unit2.svg\",process.env.PUBLIC_URL + \"/pic/unit3.svg\",process.env.PUBLIC_URL + \"/pic/unit4.svg\"];\r\n\r\nconst gameId = new PublicKey(\"11111111111111111111111111111112\")\r\n\r\nconst killEnemyScoreBonus = 50;\r\n\r\nexport const Game = () => {\r\n    var [score, setScore] = useState(0);\r\n    var [level, setLevel] = useState(1);\r\n    var [lives, setLives] = useState(5);\r\n    var [pxToMove, setPxToMove] = useState(21);\r\n    var [bullet, setBullet] = useState(\"~~>\");\r\n    \r\n    var [spawners, setSpawners] = useState([] as NodeJS.Timer[]);\r\n\r\n    const [nickname, setNickname] = useState('')\r\n    const [playerAchievements, setPlayerAchievements] = useState([] as number[])\r\n    const [achievements, setAchievements] = useState([] as asylum.AchievementData[])\r\n    const [isPlayerDataFetched, setIsPlayerDataFetched] = useState(false)\r\n    const [isGlobalDataFetched, setIsGlobalDataFetched] = useState(false)\r\n    const [isGameEnded, setIsGameEnded] = useState(false)\r\n    const [endGameActionsQueue, setEndGameActionsQueue] = useState([] as {(): Promise<void>}[])\r\n\r\n    const wallet = useAnchorWallet()\r\n    const __wallet = useWallet()\r\n\r\n    async function getProvider() {\r\n        if (!wallet)\r\n            return;\r\n\r\n        const network = \"https://api.devnet.solana.com\";\r\n        const connection = new Connection(network, \"processed\")\r\n        \r\n        const provider = new Provider(\r\n          connection, wallet, Provider.defaultOptions(),\r\n        )\r\n        return provider;\r\n    }\r\n\r\n    async function fetchPlayerData() {\r\n        if (!wallet)\r\n            return;\r\n\r\n        const provider = await getProvider()\r\n        const program = new PlayersProgram(provider as Provider)\r\n    \r\n        try {\r\n          const account = await program.fetchPlayerGlobalAccountData(wallet.publicKey)\r\n    \r\n          console.log(account)\r\n          setNickname(account.nickname.toString())\r\n          setPlayerAchievements(account.achievements)\r\n          setIsPlayerDataFetched(true)\r\n        } catch (err) {\r\n          console.log(\"Player data fetching error: \", err)\r\n        }\r\n    }\r\n\r\n    async function fetchGlobalData() {\r\n        const provider = await getProvider()\r\n        const program = new AsylumProgram(provider as Provider)\r\n        \r\n        try {\r\n            const gameAchievements = await program.fetchAcievementsData(gameId);\r\n            \r\n            console.log(\"gameAchievements\", gameAchievements)\r\n            setAchievements(gameAchievements)\r\n            setIsGlobalDataFetched(true)\r\n        } catch (err) {\r\n            console.log(\"Achievements data fetching error: \", err)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!isGlobalDataFetched)\r\n            fetchGlobalData();\r\n        if (!isPlayerDataFetched)\r\n            fetchPlayerData();\r\n    }, [isPlayerDataFetched, isGlobalDataFetched])\r\n\r\n    async function addAchievement(achievement: number) {\r\n        const provider = await getProvider()\r\n        const program = new PlayersProgram(provider as Provider)\r\n    \r\n        try {\r\n            // const achievementId = achievements.find(x => x.label == achievement)?.id;\r\n\r\n            // if (achievementId !== undefined)\r\n            {\r\n                // if player does not already has the achievement\r\n                if (playerAchievements.indexOf(achievement) === -1)\r\n                {\r\n                    console.log(\"achievement add\", achievement)\r\n                    setEndGameActionsQueue((current: {(): Promise<void>}[]) => [...current, () => program.addAchievement(achievement, 100)])\r\n                    // await program.addAchievement(achievementId, 0)\r\n                }\r\n            }\r\n            // else\r\n                // console.error(\"Could not find the achievement by type\");\r\n        } catch (err) {\r\n            console.log(\"Transaction error: \", err)\r\n        }\r\n    }\r\n\r\n    const onEnemyBorderCollision = () => {\r\n        if (isGameEnded)\r\n            return\r\n        setLives(lives => lives - 1);\r\n\r\n    }\r\n\r\n    const onBulletEnemyCollision = () => {\r\n        if (isGameEnded)\r\n            return\r\n        addAchievement(0)\r\n        setScore(score => score + killEnemyScoreBonus);\r\n    }\r\n    \r\n    const onPlayerBlackholeCollision = () => {\r\n        if (isGameEnded)\r\n            return\r\n        setLives(lives =>\r\n            {\r\n                const newLives = lives - 5;\r\n                if (lives > 0) {\r\n                    addAchievement(1)\r\n                }\r\n                return newLives;\r\n            });\r\n    }\r\n    \r\n    const onPlayerFoodCollision = () => {\r\n        setLives(lives => lives + 1);\r\n    }\r\n\r\n    const startGlobalTimer = () => {\r\n        var header = document.getElementById(\"header\") as HTMLElement;\r\n        if (header)\r\n        {\r\n            var inter = setInterval(function () {\r\n                header.style.marginTop = getMarginTop(header) - 1 + 'px';\r\n                if (getMarginTop(header) <= -235) {\r\n                    clearInterval(inter);\r\n                };\r\n            }, 20)\r\n        }\r\n        const enemySpawner = setInterval(function () {\r\n            createEnemy(onEnemyBorderCollision)\r\n        }, 2000)\r\n        const bhSpawner = setInterval(function () {\r\n            createBlackhole(onPlayerBlackholeCollision)\r\n        }, 8000)\r\n        const foodSpawner = setInterval(function () {\r\n            createFood(onPlayerFoodCollision);\r\n        }, 11000)\r\n\r\n        setSpawners([enemySpawner, bhSpawner, foodSpawner])\r\n    }\r\n\r\n    const endGame = () => {\r\n        if (!isGameEnded)\r\n            return\r\n\r\n        // stop spawn\r\n        spawners.forEach(spawner => clearInterval(spawner));\r\n\r\n        // remove existing\r\n        var gameObjects = [\r\n            ...document.getElementsByClassName(\"blackhole\"),\r\n            ...document.getElementsByClassName(\"enemy\"),\r\n            ...document.getElementsByClassName(\"food\")\r\n        ]\r\n        var root = document.getElementById('root') as HTMLElement\r\n        gameObjects.forEach(x => root.removeChild(x));\r\n\r\n        // execute actions\r\n        Promise.all(endGameActionsQueue.map(x => x()))\r\n            .then(() => {\r\n                // message\r\n                alert(\"One more time, loser?\");\r\n                alert(\"Press ok to restart the game.\");\r\n\r\n                location.reload()\r\n        })\r\n    }\r\n\r\n    const onClickStart = () => {\r\n        createPlayer(shipPictures[0])\r\n        startGlobalTimer()\r\n    }\r\n\r\n    const onClickBoost = () => {\r\n        setPxToMove(pxToMove => pxToMove + 2);\r\n    }\r\n\r\n    const onClickHiddenButton = () => {\r\n        alert(\"Hey stalker. You are still loser.\");\r\n        location.reload();\r\n    }\r\n\r\n    function actionHandler(key: string, e: KeyboardEvent) {\r\n        var playerShip = document.getElementById(\"playerShip\");\r\n\r\n        if (!playerShip)\r\n            return\r\n\r\n        var cs = window.getComputedStyle(playerShip);\r\n        var left = parseInt(cs.marginLeft);\r\n        var top = parseInt(cs.marginTop);\r\n\r\n        switch(key){\r\n            case \"left\":\r\n                if(left>0)\r\n                    playerShip.style.marginLeft = left - pxToMove + \"px\";\r\n                break;\r\n            case \"up\":\r\n                if(top>0)\r\n                    playerShip.style.marginTop = top - pxToMove + \"px\";\r\n                break;\r\n            case \"right\":\r\n                if(left < document.documentElement.clientWidth - 220)\r\n                    playerShip.style.marginLeft = left + pxToMove + \"px\";\r\n                break;\r\n            case \"down\":\r\n                if(top < document.documentElement.clientHeight - 100)\r\n                    playerShip.style.marginTop = top + pxToMove + \"px\";\r\n                break;\r\n            case \"space\":\r\n                createBullet(bullet);\r\n                shoot(onBulletEnemyCollision);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (lives <= 0 && !isGameEnded) {\r\n            setIsGameEnded(true);\r\n        }\r\n    }, [lives]);\r\n\r\n    useEffect(endGame, [isGameEnded])\r\n\r\n    useEffect(() => {\r\n        const newLevel = Math.floor(score / 600)\r\n\r\n        console.log(\"score\", score)\r\n        \r\n        if (newLevel >= level) {\r\n            setLevel(level => level + 1)\r\n        }\r\n    }, [score, level])\r\n\r\n    useEffect(() => {\r\n        var playerShip = document.getElementById(\"playerShip\") as HTMLImageElement;\r\n\r\n        if (!playerShip)\r\n            return;\r\n\r\n\r\n        console.log(\"levl\", level);\r\n\r\n        if (level <= 4)\r\n        {\r\n            playerShip.src = shipPictures[(level - 1) % shipPictures.length];\r\n        }\r\n\r\n\r\n        if (level === 3){\r\n            setBullet(\"~~> <br> ~~>\")\r\n        }\r\n        if (level === 4) {\r\n            addAchievement(2)\r\n\r\n            playerShip.style.paddingTop = \"37px\";\r\n            setBullet(\"~~> <br><br> ~~> <br><br> ~~>\")\r\n        }\r\n    }, [level, shipPictures, setBullet])\r\n\r\n\r\n    console.log(nickname)\r\n    return (\r\n    <div>\r\n        <div  style={{borderBottom: \"solid #ffff00\", minHeight: '230px'}}>\r\n            <h1 id=\"header\" style={{color: \"#018f83\", textAlign: \"center\"}}>Hey, {nickname}</h1>\r\n            <h1 id=\"header\" style={{color: \"#018f83\", textAlign: \"center\"}}>Wanna proof that you're not a loser?)</h1>\r\n\r\n            <div>\r\n                <div style={{width: \"600px\", color: \"#ffd700\", position: \"absolute\"}}>\r\n                    Achievements:\r\n                    {playerAchievements && playerAchievements.length !== 0 ?\r\n                      <ul>{playerAchievements.map((x, i) =>\r\n                      {\r\n                        const achievement = achievements.find(item => item.id === x);\r\n                        const display = achievement\r\n                          ? `'${achievement.label}' - ${achievement.description}`\r\n                          : `Something went wrong. Achievement id: ${x}`\r\n                        return <li key={i}>{display}</li>\r\n                      })}\r\n                      </ul>\r\n                      : <p>No achievements so far</p>}\r\n                </div>\r\n                <img id=\"start\" onClick={onClickStart} src={process.env.PUBLIC_URL + \"/pic/strart.png\"} alt=\"start button\" style={{width: \"100px\", marginLeft: \"47%\"}}/>\r\n                &emsp;&emsp;&emsp;&emsp;\r\n                <img id=\"boost\" onClick={onClickBoost} src={process.env.PUBLIC_URL + \"/pic/running.png\"} alt=\"boost\" style={{width: \"80px\", position: \"absolute\"}}/>\r\n                <span id=\"speed\" style={{color: \"orange\"}}>Current speed: {pxToMove}px</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div style={{alignContent: 'space-between'}}>\r\n            <h2 id=\"lives\" style={{display: \"inline\", color: \"red\"}}>Lives: {'• '.repeat(lives >= 0 ? lives : 0)}</h2>\r\n            &emsp;&emsp;&emsp;&emsp;\r\n            <h2 id=\"score\" style={{display: \"inline\", color: \"orange\"}}>Score: {score}&ensp;&ensp;</h2>\r\n            <h2 id=\"level\" style={{display: \"inline\", color: \"orange\"}}>Level: {level}</h2>\r\n\r\n            <img onClick={onClickHiddenButton} id=\"HiddenButtonForWin\" alt=\"\" src={process.env.PUBLIC_URL + \"/pic/HiddenButtonForWinImg.png\"}/>\r\n        </div>\r\n\r\n        <KeyboardEventHandler handleKeys={[\"right\", \"left\", \"up\", \"down\", \"space\"]} handleEventType=\"keydown\" onKeyEvent={actionHandler}></KeyboardEventHandler>\r\n    </div>)\r\n}\r\n","import './App.css'\nimport { Game } from './Game/Game';\n\n  import { WalletProvider, ConnectionProvider, useWallet, useAnchorWallet } from '@solana/wallet-adapter-react';\nimport { WalletModalProvider, WalletMultiButton } from '@solana/wallet-adapter-react-ui';\nimport { getPhantomWallet } from '@solana/wallet-adapter-wallets';\nimport { useEffect } from 'react';\n\nimport { Connection, PublicKey } from '@solana/web3.js'\nimport { Provider, Wallet } from '@project-serum/anchor'\n\nconst wallets = [getPhantomWallet()]\n\nfunction App() {\n    // alert(\"Hello %username%! You can move with '⇐' '⇑' '⇒' '⇓' keys, and fire on <space>. Default move speed is 8 pixels per one press. You can increase it by press button. To run the game click 'start'. Pineapples can be treacherous. Watch out the blackholes. Good luck!      WIN OR DIE!\")\n\n\n    const wallet = useWallet()\n    // const awallet = useAnchorWallet()\n\n    // useEffect(() => {\n    //   if (!wallet.connected || !wallet.ready)\n    //     return;\n    //   async function getProvider() {\n    //     if (!wallet)\n    //         return;\n\n    //     const network = \"http://localhost:8899\";\n    //     const connection = new Connection(network, \"processed\")\n        \n    //     const provider = new Provider(\n    //       connection, awallet as Wallet, Provider.defaultOptions(),\n    //     )\n    //     return provider;\n    // }\n\n    //   getProvider()\n    //   .then(p => {\n    //       const con = p?.connection;\n    //       createShipMasterNFT(awallet as Wallet, con as Connection, wallet?.publicKey as PublicKey, { name: \"de\", img: \"e\"});\n    //   })\n    // }, [wallet.connected])\n\n    return (\n      !wallet.connected\n        ? <div style={{ display: 'flex', justifyContent: 'center', marginTop: '100px' }}>\n            <WalletMultiButton />\n          </div>\n        : <div className=\"App\">\n            <Game/>\n          </div>\n    );\n}\n\nconst AppWithProvider = () => (\n  <ConnectionProvider endpoint=\"https://api.devnet.solana.com\">\n    <WalletProvider wallets={wallets} autoConnect>\n      <WalletModalProvider>\n        <App />\n      </WalletModalProvider>\n    </WalletProvider>\n  </ConnectionProvider>\n)\n\n\nexport default AppWithProvider;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}